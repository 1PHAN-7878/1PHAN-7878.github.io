<!DOCTYPE html><html class="appearance-dark" lang="zh-CN"><head><meta charset="UTF-8"><title>基于android的一个语录开发过程记录</title><meta name="description" content="welcome！"><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content="开发开始很早之前参与编写了一篇语录，大概有3W字，正好学习了android开发的一些相关知识，能否通过这个机会开发出一个app展示语录，就类似阅读器这种的。
尝试写第一个页面刘这一部分是关于将的介绍，那么肯定是从宇轩开始。
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;
&amp;lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:layo.."><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">1PHAN's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">基于android的一个语录开发过程记录</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">点击返回顶部</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">首页</a></h3><h3 class="is-inline-block"><a href="/about">关于</a></h3><h3 class="is-inline-block"><a href="/archives">归档</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E5%BC%80%E5%A7%8B"><span class="toc-text">开发开始</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B0%9D%E8%AF%95%E5%86%99%E7%AC%AC%E4%B8%80%E4%B8%AA%E9%A1%B5%E9%9D%A2"><span class="toc-text">尝试写第一个页面</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%98"><span class="toc-text">刘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%A0"><span class="toc-text">张</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%AA"><span class="toc-text">伪</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E5%B0%86"><span class="toc-text">中将</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E5%B0%86"><span class="toc-text">小将</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%85%B6%E4%B8%AD%E7%9A%84%E4%BF%A1%E6%81%AF%E4%BC%A0%E9%80%92%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0"><span class="toc-text">关于其中的信息传递逻辑实现</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E5%A4%AB%E7%9A%84%E7%9B%B8%E5%BA%94%E9%80%BB%E8%BE%91"><span class="toc-text">完成夫的相应逻辑</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E8%83%BD%E5%90%A6%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%B2%BE%E7%AE%80"><span class="toc-text">思考能否进一步精简</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#sharedPreferences-null-pointer"><span class="toc-text">sharedPreferences null pointer?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB"><span class="toc-text">模板类</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%AE%B6%E6%97%8F%E4%BB%8B%E7%BB%8D"><span class="toc-text">建立第一章 家族介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-text">结构</span></a></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/android"><i class="tag post-item-tag">android</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">基于android的一个语录开发过程记录</h1><time class="has-text-grey" datetime="2023-11-25T08:09:41.000Z">2023-11-25</time><article class="mt-2 post-content"><h1 id="开发开始"><a href="#开发开始" class="headerlink" title="开发开始"></a>开发开始</h1><p>很早之前参与编写了一篇语录，大概有3W字，正好学习了android开发的一些相关知识，能否通过这个机会开发出一个app展示语录，就类似阅读器这种的。</p>
<h1 id="尝试写第一个页面"><a href="#尝试写第一个页面" class="headerlink" title="尝试写第一个页面"></a>尝试写第一个页面</h1><h2 id="刘"><a href="#刘" class="headerlink" title="刘"></a>刘</h2><p>这一部分是关于将的介绍，那么肯定是从宇轩开始。</p>
<pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".family.FamilyLiuYuxuan"&gt;


    &lt;ImageButton

        android:id="@+id/FamilyLiuYuxuanSettingButton"
        android:layout_width="40sp"
        android:layout_height="40sp"
        android:layout_alignParentTop="true"

        android:layout_alignParentRight="true"
        android:layout_marginTop="20sp"
        android:src="@mipmap/ic_launcher"&gt;

    &lt;/ImageButton&gt;

    &lt;ScrollView

        android:id="@+id/ScrollView"
        android:layout_width="match_parent"
        android:layout_height="550sp"
        android:layout_below="@id/FamilyLiuYuxuanSettingButton"&gt;

        &lt;TextView

            android:id="@+id/FamilyLiuYuxuanText"
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_marginLeft="40dp"
            android:layout_marginTop="0dp"
            android:layout_marginRight="40dp"
            android:text="\t\t\t\t刘宇轩(大将)女,一般称宇轩,别名SHEEN,YUEAI,妞鬼,八怪,小轩轩,刘头,宇呕,宇X(X读作lāi),夫妻,大球,(在宇呕荣耀中)大龙,李蓉泉称其为井盖脸,跟她勾肩搭背的女生称其为混世女魔头,有,圆,有和圆合称原油(由一帆创始),还有某些女生称其为老大。
            \n\t\t\t\t英文名LIGHT SHEEN(简称LS),来自一班。是戏曲里的彩旦,因为彩旦专演丑角。具有纯正的宇轩血统,是唯一的光系宇轩。长相奇丑无比,也不知道是什么原因。具有满脸痘和超亮大奔头。长相很奇特而且较黑,正面看根本看不见头发,一低头就可以看见她的发际线离眉毛很远,于是奔头就很大,而且侧面的头发也濒临消失,但她在合影的时候永远站在第一个,真够惊悚的。
            \n\t\t\t\t宇轩奔遇阳光可反射光芒,储存光芒,放光芒。但长相都是次要的,最关键她道德品质极其败坏,允许她说别人但不允许别人说她,不愧是相由心生。坐在别人椅子上,嫌人家书包硌得慌,就直接把人家的书包扔在地上。对鸡毛蒜皮不值得一提的小事斤斤计较个没完没了。初三上半学期的最后,老师发糖,宇呕就用臭爪子把糖抓来抓去,乱挑,真是恶心到家了。
            \n\t\t\t\t为了寻求保护和宠爱,经常拍老师马屁,当老师一面,背着老师一面。脾气暴,嗓门大,极其张扬。令人胆怯,闻其声而知其名,闻风丧胆,一眼都不能看,因为看完就会失明。挑拨离间女生间关系,还掐女生脖子,使得全班人都排斥她。贪污退回的饭费,一向一毛不拔的宇来还拿赃款请女生吃东西。\n\t\t\t\t著有名言:(宇轩怒之千古绝唱)“给我道歉。”
"

            &gt;&lt;/TextView&gt;
    &lt;/ScrollView&gt;

    &lt;Button
        android:id="@+id/FamilyLiuYuxuanButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_below="@id/ScrollView"
        android:layout_centerHorizontal="true"
        android:text="返回"
        android:textSize="20sp" /&gt;


&lt;/RelativeLayout&gt;
</code></pre>
<pre><code class="java">package com.example.yuouquotation.family;

import androidx.appcompat.app.AppCompatActivity;

import android.annotation.SuppressLint;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import com.example.yuouquotation.R;

public class FamilyLiuYuxuan extends AppCompatActivity {
    private static final int REQUEST_CODE_SETTINGS = 1;
    private Button familyLiuYuxuanButton;
    private int textSize;
    private ImageButton familyLiuYuxuanSettingButton;
    private TextView familyLiuYuxuanText;
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_family_liu_yuxuan);

        familyLiuYuxuanButton = findViewById(R.id.FamilyLiuYuxuanButton);
        familyLiuYuxuanSettingButton = findViewById(R.id.FamilyLiuYuxuanSettingButton);
        familyLiuYuxuanText = findViewById(R.id.FamilyLiuYuxuanText);
        SharedPreferences sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        SharedPreferences.Editor editor = sharedPreferences.edit();
        textSize = sharedPreferences.getInt("textSize", 20);
        familyLiuYuxuanText.setTextSize(textSize);
        //返回按钮
        familyLiuYuxuanButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish();
            }
        });
        //设置按钮
        familyLiuYuxuanSettingButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent(FamilyLiuYuxuan.this, FamilySettings.class);
                startActivityForResult(intent, REQUEST_CODE_SETTINGS);
            }
        });


    }

    @Override
    protected void onActivityResult(int requestCode , int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_CODE_SETTINGS &amp;&amp; resultCode == RESULT_OK) {
            Bundle parameters = data.getExtras();
            // 使用返回的参数更新初始界面的状态
            textSize = parameters.getInt("textSize");
            familyLiuYuxuanText.setTextSize(textSize);

        }
    }
}
</code></pre>
<p>调整了布局以及按钮的逻辑，同理制作出张，伪，中将和小将的信息。</p>
<h2 id="张"><a href="#张" class="headerlink" title="张"></a>张</h2><pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".family.FamilyLiuYuxuan"&gt;

    &lt;RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"&gt;
        &lt;ImageButton

            android:id="@+id/FamilyZhangYuxuanSettingButton"
            android:layout_width="40sp"
            android:layout_height="40sp"
            android:layout_alignParentTop="true"

            android:layout_alignParentRight="true"
            android:layout_marginTop="20sp"
            android:src="@mipmap/ic_launcher"/&gt;
        &lt;TextView
            android:id="@+id/FamilyZhangYuxuanText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="\t\t\t\t张雨轩(大将)
男,一般称雨轩,别名老张头,英文名BLACK SHEEN(简称BS),来自五班。\n\t\t\t\t长相比黑人还黑,屁多,屁话更多,口齿不清,满身痘痘,1厘米的屌呈尖型,长相不佳但喜欢贴近别人。看起来脸上不发光,其实张头发紫外线,会吸收(吸收紫外线用来把自己变得更黑),储存,放紫外线。\n\t\t\t\t不知羞耻 ,自称对刘时骏和赵健程有爱意。整天就挠他自己脸上的痘,长满泥的指甲长得能挠破皮。爱瞎bb,还学别人说话。从初三开始就不来了,他其实还是挺可怜的。\n\t\t\t\t著有名言:“啊哈哈。”“滚犊子。”“健程。”“小健健。“ “小京楠。”“屙,好诡异!”“若熙奶奶。”“不能那么残忍!”“别闹!”“(扶着痘说)完,完,完,完,完!”
"
            android:layout_marginLeft="40dp"
            android:layout_marginRight="40dp"
            android:layout_marginTop="20dp"
            &gt;&lt;/TextView&gt;


        &lt;Button
            android:id="@+id/FamilyZhangYuxuanButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="返回"
            android:textSize="20sp"
            android:layout_below="@id/FamilyZhangYuxuanText"
            android:layout_centerHorizontal="true"/&gt;
    &lt;/RelativeLayout&gt;

&lt;/ScrollView&gt;
</code></pre>
<pre><code class="java">package com.example.yuouquotation.family;

import androidx.annotation.Nullable;
import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import com.example.yuouquotation.R;

public class FamilyZhangYuxuan extends AppCompatActivity {


    private Button familyZhangYuxuanButton;
    private TextView familyZhangYuxuanText;
    private int textSize;
    SharedPreferences sharedPreferences;
    SharedPreferences.Editor editor;
    ImageButton familyZhangYuxuanSettingButton;
    private int REQUEST_CODE = 1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_family_zhang_yuxuan);

        familyZhangYuxuanButton = findViewById(R.id.FamilyZhangYuxuanButton);
        familyZhangYuxuanText = findViewById(R.id.FamilyZhangYuxuanText);
        familyZhangYuxuanSettingButton = findViewById(R.id.FamilyZhangYuxuanSettingButton);
        sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        editor = sharedPreferences.edit();
        textSize = sharedPreferences.getInt("textSize", 20);

        familyZhangYuxuanText.setTextSize(textSize);

        familyZhangYuxuanButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish();
            }
        });
        familyZhangYuxuanSettingButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent(FamilyZhangYuxuan.this, FamilySettings.class);
                startActivityForResult(intent, REQUEST_CODE);
            }
        });

    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {
            textSize = sharedPreferences.getInt("textSize", 20);
            familyZhangYuxuanText.setTextSize(textSize);
        }
    }
}
</code></pre>
<h2 id="伪"><a href="#伪" class="headerlink" title="伪"></a>伪</h2><pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".family.FamilyLiuYuxuan"&gt;

    &lt;RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"&gt;
        &lt;ImageButton

            android:id="@+id/FamilyWeiYuxuanSettingButton"
            android:layout_width="40sp"
            android:layout_height="40sp"
            android:layout_alignParentTop="true"

            android:layout_alignParentRight="true"
            android:layout_marginTop="20sp"
            android:src="@mipmap/ic_launcher"/&gt;
        &lt;TextView
            android:id="@+id/FamilyWeiYuxuanText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginLeft="40dp"
            android:layout_marginTop="20dp"
            android:layout_marginRight="40dp"
            android:text="\t\t\t\t伪宇轩(大将)
女,真名刘思多,别名伪头,英文名FALSE SHEEN(简称FS),来自四班。长相剧黑无比。\n\t\t\t\t源于菊花村,远看神似张雨轩,近看半似刘宇轩,痘虽少,但也挺丑的。学习好,一帆致词:自古英雄出宇轩。(伪宇轩夫:四班口齿不清、智商低下的儿童贺铂中。思多哥:刘思宇)
"&gt;&lt;/TextView&gt;


        &lt;Button
            android:id="@+id/FamilyWeiYuxuanButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_below="@id/FamilyWeiYuxuanText"
            android:layout_centerHorizontal="true"
            android:text="返回"
            android:textSize="20sp" /&gt;
    &lt;/RelativeLayout&gt;

&lt;/ScrollView&gt;
</code></pre>
<pre><code class="java">package com.example.yuouquotation.family;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import com.example.yuouquotation.R;

public class FamilyWeiYuxuan extends AppCompatActivity {


    private Button familyWeiYuxuanButton;
    private TextView familyWeiYuxuanText;
    private int textSize;
    private ImageButton familyWeiYuxuanSettingButton;
    SharedPreferences sharedPreferences;
    SharedPreferences.Editor editor;
    private int REQUEST_CODE = 1;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_family_wei_yuxuan);


        sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        editor = sharedPreferences.edit();
        textSize = sharedPreferences.getInt("textSize", 20);

        familyWeiYuxuanButton = findViewById(R.id.FamilyWeiYuxuanButton);
        familyWeiYuxuanText = findViewById(R.id.FamilyWeiYuxuanText);
        familyWeiYuxuanSettingButton = findViewById(R.id.FamilyWeiYuxuanSettingButton);


        familyWeiYuxuanText.setTextSize(textSize);
        familyWeiYuxuanButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish();
            }
        });


        familyWeiYuxuanSettingButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent(FamilyWeiYuxuan.this, FamilySettings.class);
                startActivityForResult(intent, REQUEST_CODE);
            }
        });
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {
            textSize = sharedPreferences.getInt("textSize", 20);
            familyWeiYuxuanText.setTextSize(textSize);
        }
    }
}
</code></pre>
<h2 id="中将"><a href="#中将" class="headerlink" title="中将"></a>中将</h2><pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".family.FamilyLiuYuxuan"&gt;

    &lt;RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"&gt;
        &lt;ImageButton

            android:id="@+id/FamilyZhongjiangSettingButton"
            android:layout_width="40sp"
            android:layout_height="40sp"
            android:layout_alignParentTop="true"

            android:layout_alignParentRight="true"
            android:layout_marginTop="20sp"
            android:src="@mipmap/ic_launcher"/&gt;
        &lt;TextView
            android:id="@+id/FamilyZhongjiangText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="\t\t\t\t二伪宇轩(中将)\n
\t\t\t\t女,真名张静宇,英文名2 FALSE SHEEN(简称2FS)来自二班。"
            android:layout_marginLeft="40dp"
            android:layout_marginRight="40dp"
            android:layout_marginTop="20dp"
            android:textSize="20sp"
            &gt;&lt;/TextView&gt;

        &lt;TextView
            android:id="@+id/FamilyZhongjiangText2"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="\t\t\t\t伪二伪宇轩(中将)\n
\t\t\t\t女,真名朱祎文,英文名3 FALSE SHEEN(简称3FS),来自六班。

"
            android:layout_marginLeft="40dp"
            android:layout_marginRight="40dp"
            android:layout_marginTop="20dp"
            android:layout_below="@id/FamilyZhongjiangText"
            android:textSize="20sp"
            &gt;&lt;/TextView&gt;

        &lt;TextView
            android:id="@+id/FamilyZhongjiangText3"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="
\t\t\t\t伪张雨轩(中将)男,真名薛斌,别名伪张。\n\t\t\t\t英文名FALSE BLACK SHEEN(简称FBS)。来自比第一大将刘宇轩低一届的一班。经典动作有:上齿咬下唇,挠头。与张雨轩极其相似:长相丑无奔头,脸色不黑,痘多却比张雨轩少,不愧是老张的化身。
"
            android:layout_marginLeft="40dp"
            android:layout_marginRight="40dp"
            android:layout_marginTop="20dp"
            android:layout_below="@id/FamilyZhongjiangText2"
            android:textSize="20sp"
            &gt;&lt;/TextView&gt;


        &lt;Button
            android:id="@+id/FamilyZhongjiangButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="返回"
            android:textSize="20sp"
            android:layout_below="@id/FamilyZhongjiangText3"
            android:layout_centerHorizontal="true"/&gt;
    &lt;/RelativeLayout&gt;

&lt;/ScrollView&gt;
</code></pre>
<pre><code class="java">package com.example.yuouquotation.family;

import androidx.annotation.Nullable;
import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import com.example.yuouquotation.R;

public class FamilyZhongjiang extends AppCompatActivity {


    private Button familyZhongjiangButton;
    private TextView familyZhongjiangText;
    private TextView familyZhongjiangText2;
    private TextView familyZhongjiangText3;
    private int textSize;
    private ImageButton familyZhongjiangSettingButton;
    SharedPreferences sharedPreferences;

    SharedPreferences.Editor editor;
    private int REQUEST_CODE = 1;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_family_zhongjiang);


        familyZhongjiangButton = findViewById(R.id.FamilyZhongjiangButton);
        familyZhongjiangText = findViewById(R.id.FamilyZhongjiangText);
        familyZhongjiangText2 = findViewById(R.id.FamilyZhongjiangText2);
        familyZhongjiangText3 = findViewById(R.id.FamilyZhongjiangText3);
        familyZhongjiangSettingButton = findViewById(R.id.FamilyZhongjiangSettingButton);
        sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        editor = sharedPreferences.edit();
        textSize = sharedPreferences.getInt("textSize", 20);

        familyZhongjiangText.setTextSize(textSize);
        familyZhongjiangText2.setTextSize(textSize);
        familyZhongjiangText3.setTextSize(textSize);
        familyZhongjiangButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish();
            }
        });

        familyZhongjiangSettingButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent(FamilyZhongjiang.this, FamilySettings.class);
                startActivityForResult(intent, REQUEST_CODE);
            }
        });
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if(REQUEST_CODE == requestCode &amp;&amp; resultCode == RESULT_OK){

            textSize = sharedPreferences.getInt("textSize", 20);
            familyZhongjiangText.setTextSize(textSize);
            familyZhongjiangText2.setTextSize(textSize);
            familyZhongjiangText3.setTextSize(textSize);
        }
    }
}
</code></pre>
<h2 id="小将"><a href="#小将" class="headerlink" title="小将"></a>小将</h2><pre><code class="xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".family.FamilyLiuYuxuan"&gt;

    &lt;RelativeLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"&gt;
        &lt;ImageButton

            android:id="@+id/FamilyXiaojiangSettingButton"
            android:layout_width="40sp"
            android:layout_height="40sp"
            android:layout_alignParentTop="true"

            android:layout_alignParentRight="true"
            android:layout_marginTop="20sp"
            android:src="@mipmap/ic_launcher"/&gt;
        &lt;TextView
            android:id="@+id/FamilyXiaojiangText"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="\t\t\t\t侯宇轩(小将)\n\t\t\t\t
男,英文名MONKEY SHEEN(简称MS),来自四班。无奔头,无痘,但高颧骨,长相似骷髅。是宇轩家族的一代炮灰。\n\t\t\t\t出场率极少,在宇轩界中不受重视。
"
            android:layout_marginLeft="40dp"
            android:layout_marginRight="40dp"
            android:layout_marginTop="20dp"
            android:textSize="20sp"
            &gt;&lt;/TextView&gt;


        &lt;Button
            android:id="@+id/FamilyXiaojiangButton"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="返回"
            android:textSize="20sp"
            android:layout_below="@id/FamilyXiaojiangText"
            android:layout_centerHorizontal="true"/&gt;
    &lt;/RelativeLayout&gt;

&lt;/ScrollView&gt;
</code></pre>
<pre><code class="java">package com.example.yuouquotation.family;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import com.example.yuouquotation.R;

public class FamilyXiaojiang extends AppCompatActivity {


    private Button familyXiaojiangButton;
    private TextView familyXiaojiangText;
    private int textSize;
    private SharedPreferences sharedPreferences;
    private SharedPreferences.Editor editor;
    private ImageButton familyXiaojiangSettingButton;
    private int REQUEST_CODE = 1;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_family_xiaojiang);

        familyXiaojiangButton = findViewById(R.id.FamilyXiaojiangButton);
        familyXiaojiangText = findViewById(R.id.FamilyXiaojiangText);
        familyXiaojiangSettingButton = findViewById(R.id.FamilyXiaojiangSettingButton);
        sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        editor = sharedPreferences.edit();
        textSize = sharedPreferences.getInt("textSize", 20);

        familyXiaojiangText.setTextSize(textSize);
        familyXiaojiangButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                finish();
            }
        });
        familyXiaojiangSettingButton.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Intent intent = new Intent(FamilyXiaojiang.this, FamilySettings.class);
                startActivityForResult(intent, REQUEST_CODE);

            }
        });
    }
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {
            textSize = sharedPreferences.getInt("textSize", 20);
            familyXiaojiangText.setTextSize(textSize);
        }
    }
}
</code></pre>
<h2 id="关于其中的信息传递逻辑实现"><a href="#关于其中的信息传递逻辑实现" class="headerlink" title="关于其中的信息传递逻辑实现"></a>关于其中的信息传递逻辑实现</h2><p>本来使用的是相应的每一个界面都有一个Setting按钮，对于文字颜色进行调整，而后发现比如A界面更改了信息，B界面还要经历一次修改过程，每一步都要用Bundle来完成么？显然繁琐，于是找到了sharedPreferences的方式，类似共享内存，不过建议是存储一些简单的信息。</p>
<h1 id="完成夫的相应逻辑"><a href="#完成夫的相应逻辑" class="headerlink" title="完成夫的相应逻辑"></a>完成夫的相应逻辑</h1><h2 id="思考能否进一步精简"><a href="#思考能否进一步精简" class="headerlink" title="思考能否进一步精简"></a>思考能否进一步精简</h2><p>因为之前每一次都是要定义类似的控件，能否创建一个类，使得其new一个实例，再往里赋值就可以了。在实现的过程中，发现可以直接采用继承的方式，甚至不需要使用new一个实例。</p>
<p>不过在获取对象时遇到了空指针的问题如下</p>
<h2 id="sharedPreferences-null-pointer"><a href="#sharedPreferences-null-pointer" class="headerlink" title="sharedPreferences null pointer?"></a>sharedPreferences null pointer?</h2><p>我最初是在那个基类中获取的所有的Button，View等控件，会出现android：Initializing SharedPreferences提供：尝试在空对象引用上调用虚拟方法的问题。而后下午更改至OnCreate方法中竟然就不再报错，那么暂时不想深究，继续其他的开发。</p>
<p>当解决这个问题后发现采用相应的类进行开发，编写速度会有很大的提升，因为此时对于一个新的类，仅仅在获取控件的时候采用不同的id即可，而无需创建新的不同命名的控件。</p>
<p>于是创建了相应夫的xml与java文件进行交互。</p>
<h2 id="模板类"><a href="#模板类" class="headerlink" title="模板类"></a>模板类</h2><pre><code class="java">package com.example.yuouquotation.fu;

import android.content.SharedPreferences;
import android.widget.Button;
import android.widget.ImageButton;
import android.widget.TextView;

import androidx.appcompat.app.AppCompatActivity;

public class FuView extends AppCompatActivity {
    //布局文件
    private android.view.View fuActivity;
    //文字大小
    private int textSize;
    //设置请求
    public static final int REQUEST_CODE = 1;
    //返回按钮
    private Button fuButton;
    //介绍文字
    private TextView fuText;
    //设置按钮
    private ImageButton fuSettingButton;

    public SharedPreferences sharedPreferences;
    public SharedPreferences.Editor editor;

    public TextView getFuText() {
        return fuText;
    }

    public void setFuText(int fuText) {
        this.fuText = findViewById(fuText);
    }


    public ImageButton getFuSettingButton() {
        return fuSettingButton;
    }

    public void setFuSettingButton(int fuSettingButton) {
        this.fuSettingButton = findViewById(fuSettingButton);
    }
    public int getTextSize() {
        return textSize;
    }

    public void setTextSize(int textSize) {
        this.textSize = textSize;
    }


    public Button getFuButton() {
        return fuButton;
    }

    public void setFuButton(int fuButton) {
        this.fuButton = findViewById(fuButton);
    }

    public FuView() {
        super();
        //sharedPreferences = getSharedPreferences("app_settings", MODE_PRIVATE);
        //editor = sharedPreferences.edit();

    }

    public android.view.View getFuActivity() {
        return fuActivity;
    }

    public void setFuActivity(int fuActivity) {
        this.fuActivity = findViewById(fuActivity);
    }



}
</code></pre>
<h1 id="建立第一章-家族介绍"><a href="#建立第一章-家族介绍" class="headerlink" title="建立第一章 家族介绍"></a>建立第一章 家族介绍</h1><h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p>包含两大家族宇轩和夫，同样是通过Intent进行交互，不过为他们设置了不同的图标，在drawable文件夹下放置了需要使用的图片，使用的时候将其通过id引用。</p>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2023/11/28/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%B7%AF%E7%94%B1%E5%99%A8RIP%E5%8D%8F%E8%AE%AE%E5%AE%9E%E9%AA%8C/" title="路由器RIP协议实验"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">上一页: 路由器RIP协议实验</span></a><a class="button is-default" href="/2023/11/25/2022ICPC%E6%B5%8E%E5%8D%97%E9%83%A8%E5%88%86%E9%A2%98%E8%A7%A3/" title="2022ICPC济南部分题解"><span class="has-text-weight-semibold">下一页: 2022ICPC济南部分题解</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><a title="twitter" target="_blank" rel="noopener nofollow" href="//twitter.com//"><i class="iconfont icon-twitter"></i></a><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/https://github.com/1PHAN-7878"><i class="iconfont icon-github"></i></a><!-- Ins--><a title="instagram" target="_blank" rel="noopener nofollow" href="//www.instagram.com//"><i class="iconfont icon-ins"></i></a><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--><a title="facebook" target="_blank" rel="noopener nofollow" href="//www.facebook.com//"><i class="iconfont icon-tian7_facebook"></i></a></section><p><span>Copyright ©</span><span> 1PHAN 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>